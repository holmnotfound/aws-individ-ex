var o=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var l=(s,e)=>{for(var n in e)o(s,n,{get:e[n],enumerable:!0})},c=(s,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of u(e))!d.call(s,r)&&r!==n&&o(s,r,{get:()=>e[r],enumerable:!(a=p(e,r))||a.enumerable});return s};var g=s=>c(o({},"__esModule",{value:!0}),s);var b={};l(b,{handler:()=>h});module.exports=g(b);var t=require("@aws-sdk/client-dynamodb"),m=require("@aws-sdk/util-dynamodb"),y=new t.DynamoDBClient({region:"eu-north-1"}),h=async s=>{let e=s.pathParameters?.username;try{let n=new t.QueryCommand({TableName:"message-api",KeyConditionExpression:"pk = :pk",ExpressionAttributeValues:{":pk":{S:"Message"}},FilterExpression:"username = :username",ExpressionAttributeValues:{":pk":{S:"Message"},":username":{S:e}}}),r=(await y.send(n)).Items.map(i=>(0,m.unmarshall)(i));return{statusCode:200,body:JSON.stringify(r)}}catch(n){return console.error("Fel vid h\xE4mtning av meddelanden:",n),{statusCode:500,body:JSON.stringify({message:"Fel vid h\xE4mtning.",error:n.message})}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
