{
  "version": 3,
  "sources": ["../../../../functions/GetAllMessages/index.js"],
  "sourcesContent": ["import { DynamoDBClient, QueryCommand } from \"@aws-sdk/client-dynamodb\";\nimport { unmarshall } from \"@aws-sdk/util-dynamodb\";\n\nconst client = new DynamoDBClient({ region: \"eu-north-1\"});\n\nexport const handler = async (event) =>{\n    try{\n        const command = new QueryCommand({\n            TableName: \"message-api\",\n            KeyConditionExpression: \"pk = :pk\",\n            ExpressionAttributeValues: {\n                \":pk\": {S: \"Message\"}\n            }\n        });\n\n        const response = await client.send(command)\n        const items = response.Items.map((item) => unmarshall(item));\n\n        return{\n            statusCode: 200,\n            body: JSON.stringify(items)\n        }\n\n    } catch (error) {\n    console.error(\"Ett fel uppstod vid h\u00E4mtning av messages\", error);\n\n      return {\n      statusCode: 500,\n      body: JSON.stringify({\n        message: \"Ett fel uppstod vid h\u00E4mtning av messages.\",\n        error: error.message,\n      }),\n    };\n    }\n\n\n}"],
  "mappings": "4ZAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAA6C,oCAC7CC,EAA2B,kCAErBC,EAAS,IAAI,iBAAe,CAAE,OAAQ,YAAY,CAAC,EAE5CJ,EAAU,MAAOK,GAAS,CACnC,GAAG,CACC,IAAMC,EAAU,IAAI,eAAa,CAC7B,UAAW,cACX,uBAAwB,WACxB,0BAA2B,CACvB,MAAO,CAAC,EAAG,SAAS,CACxB,CACJ,CAAC,EAGKC,GADW,MAAMH,EAAO,KAAKE,CAAO,GACnB,MAAM,IAAKE,MAAS,cAAWA,CAAI,CAAC,EAE3D,MAAM,CACF,WAAY,IACZ,KAAM,KAAK,UAAUD,CAAK,CAC9B,CAEJ,OAASE,EAAO,CAChB,eAAQ,MAAM,8CAA4CA,CAAK,EAEtD,CACP,WAAY,IACZ,KAAM,KAAK,UAAU,CACnB,QAAS,+CACT,MAAOA,EAAM,OACf,CAAC,CACH,CACA,CAGJ",
  "names": ["index_exports", "__export", "handler", "__toCommonJS", "import_client_dynamodb", "import_util_dynamodb", "client", "event", "command", "items", "item", "error"]
}
